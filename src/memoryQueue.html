<!-- configuration -->
<script type="text/javascript">
  RED.nodes.registerType('memory-queue',{
      category: 'config',
      defaults: {
          name: { value: '', required: true },
      },
      label: function() {
          return this.name;
      },
      oneditprepare: function() {
        $("#node-config-input-size").typedInput({
          type:'num'
        })
      }
  });

  
</script>

<script type="text/html" data-template-name="memory-queue">
  <div class="form-row">
    <label for="node-config-input-name"><i class="fa fa-tag"></i> Name</label>
    <input type="text" id="node-config-input-name">
  </div>
  <div class="form-row">
    <label for="node-config-input-size"><i class="fa fa-grid"></i> Maximum Size (0 or empty for unlimited size)</label>
    <input type="text" id="node-config-input-size">
  </div>
  <div class="form-row">
    <label for="node-config-input-discard"><i class="fa fa-arrow-right"></i> Discard oldest when queue is full</label>
    <input type="checkbox" id="node-config-input-discard">
</div>
  </script>

<!-- queue in -->
<script type="text/javascript">
  RED.nodes.registerType('memqueue in',{
      category: 'queue',
      color: '#E56399',
      defaults: {
          name: {value: ''},
          queue: {value: '', type: 'memory-queue', required: true},
      },
      inputs: 1,
      outputs: 1,
      icon: "arrow-in.png",
      label: function() {
          return this.name || "queue in";
      }
  });
</script>

<script type="text/x-red" data-template-name="memqueue in">
  <div class="form-row">
      <label for="node-input-name"><i class="icon-tag"></i> Name</label>
      <input type="text" id="node-input-name" placeholder="Name">
  </div>
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Queue</label>
    <input type="text" id="node-input-queue" placeholder="Queue">
  </div>
</script>

<!-- queue out -->
<script type="text/javascript">
  RED.nodes.registerType('memqueue out',{
      category: 'queue',
      color: '#D496A7',
      defaults: {
          name: {value: ''},
          queue: {value: '', type: 'memory-queue', required: true},
      },
      inputs: 0,
      outputs: 1,
      icon: "arrow-in.png",
      label: function() {
          return this.name || "queue out";
      }
  });
</script>

<script type="text/x-red" data-template-name="memqueue out">
  <div class="form-row">
      <label for="node-input-name"><i class="icon-tag"></i> Name</label>
      <input type="text" id="node-input-name" placeholder="Name">
  </div>
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Queue</label>
    <input type="text" id="node-input-queue" placeholder="Queue">
  </div>
</script>

<!-- queue ack -->
<script type="text/javascript">
  RED.nodes.registerType('memqueue ack',{
      category: 'queue',
      color: '#8FE388',
      defaults: {
          name: {value: ''},
          queue: {value: '', type: 'memory-queue', required: true},
      },
      inputs: 1,
      outputs: 0,
      icon: "alert.png",
      label: function() {
          return this.name || "queue ack";
      }
  });
</script>

<script type="text/x-red" data-template-name="memqueue ack">
  <div class="form-row">
      <label for="node-input-name"><i class="icon-tag"></i> Name</label>
      <input type="text" id="node-input-name" placeholder="Name">
  </div>
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Queue</label>
    <input type="text" id="node-input-queue" placeholder="Queue">
  </div>
</script>